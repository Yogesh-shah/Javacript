<input type="file" id="fileUpload" onchange="Upload()" />
<!-- <input type="button" value="Upload" /> -->
<script type="text/javascript">
    function Upload() {
        var fileUpload = document.getElementById("fileUpload");
        var fi = fileUpload;
        if (typeof fileUpload.files != "undefined") {
            var reader = new FileReader();
            reader.readAsDataURL(fileUpload.files[0]);
            reader.onload = function (e) {
                var image = new Image();

                image.src = e.target.result;

                image.onload = function () {
                    var height = this.height;
                    var width = this.width;
                    if (height > 100 || width > 100) {
                        alert("Height and Width must not exceed 100px.");
                        document.getElementById("fileUpload").value = "";
                        return false;
                    }
                    if (fi.files.length > 0) {
                        for (const i = 0; i <= fi.files.length - 1; i++) {
                            const fsize = fi.files.item(i).size;
                            const file = Math.round(fsize / 1024);
                            // The size of the file.
                            if (file >= 500) {
                                alert("File too Big, please select a file less than 500KB");
                                document.getElementById("fileUpload").value = "";
                            } else {
                                alert("image is perfect");
                            }
                        }

                        alert("Uploaded image has valid Height and Width and size.");
                        return true;
                    }
                };
            };
        }
    }

    // function validateSize(input) {
    //   const fileSize = input.files[0].size / 500 / 500; // in MiB
    //   if (fileSize > 500) {
    //     alert('File size exceeds 500 kb');
    //     // $(file).val(''); //for clearing with Jquery
    //   } else {
    //     // Proceed further
    //   }
    // }
</script>

<!-- <input onchange="validateSize(this)" type="file"> -->

<br />
<br />
<br />

<!-- <input type="file" id="fileUpload" onchange="Upload()"/>
<input type="button" value="Upload"  />

<script type="text/javascript">
    function Upload() {
        var fileUpload = document.getElementById("fileUpload");
        if (typeof (fileUpload.files) != "undefined") {
            var size = parseFloat(fileUpload.files[0].size / 1024).toFixed(2);
            alert(size + " KB.");
        } else {
            alert("This browser does not support HTML5.");
        }
    }
</script> -->
